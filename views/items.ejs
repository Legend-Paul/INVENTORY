<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="icon" type="image/png" href="/logo/InvenTack.png" />
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css"
        />
        <link rel="stylesheet" href="/styles.css" />
        <link rel="stylesheet" href="/items.css" />
        <link rel="stylesheet" href="/header.css" />

        <title>InvenTack</title>
    </head>
    <body>
        <%- include('partials/header') %>
        <div class="summary">
            <div class="inventory-fields items">
                <i class="bi bi-list-ul"></i>
                <p><%= itemsCount %></p>
                <p class="summary-field-name">Items</p>
            </div>
            <div class="inventory-fields quatities">
                <i class="bi bi-basket-fill"></i>
                <p><%= quantities %></p>
                <p class="summary-field-name">Quantity</p>
            </div>
            <div class="inventory-fields costs">
                <i class="bi bi-cash-coin"></i>
                <p><%= price %></p>
                <p class="summary-field-name">Amount</p>
            </div>
        </div>
        <div class="item-header">
            <i class="bi bi-layers"></i>
            <h2><%= locals.categoryName %></h2>
        </div>
        <main>
            <div class="items-container">
                <% if (items.length === 0) { %>
                <p class="no-items-message">No items in this category.</p>
                <% } else { %> <% items.forEach(item => { %>
                <div class="card item-card">
                    <div class="item-details">
                        <h3><%= item.item_name %></h3>
                        <p class="category-name"><%= item.category_name %></p>
                        <div class="item-description">
                            <p><%= item.item_description %></p>
                        </div>
                    </div>
                    <div class="item-summary-actions">
                        <div class="items-summary">
                            <p>Quantity: <%= item.quantity %></p>
                            <p>Amount: <%= item.price %></p>
                        </div>
                        <div class="item-actions">
                            <a class="edit" href="/edit/<%= item.id %>"
                                ><i class="bi bi-pencil-square"></i
                            ></a>
                            <a class="delete" href="/delete/<%= item.id %>"
                                ><i class="bi bi-trash3"></i
                            ></a>
                        </div>
                    </div>
                </div>
                <% }) %> <% } %>
            </div>
            <article>
                <a
                    class="add-button"
                    href="/new/item?category=<%= locals.categoryId %>"
                    ><i class="bi bi-plus-lg"></i
                ></a>
            </article>
        </main>
    </body>
</html>
